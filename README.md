# Transformações Geométricas Interativas com PyOpenGL e PyGame
**Universidade**: Centro Universitário do Pará
**Disciplina**: Computação Gráfica
**Aluno**: João Matheus Pessoa da Silva Severino
**Matrícula**: 22070206
**Período**: CC7NA
**Professor**: SUZANA LUSTOSA DE SOUSA

## Resumo: 
O presente artigo explora o uso de transformações geométricas básicas, como translação, escala e espelhamento em aplicações de Computação Gráfica utilizando o PyOpenGL. Foi desenvolvido um projeto prático que renderiza um cubo 3D com mapeamento de textura e iluminação, permitindo ao usuário aplicar interativamente transformações em tempo real sobre o cubo. Inicialmente, apresentam-se os fundamentos teóricos do OpenGL, da modelagem 3D e das transformações geométricas utilizadas no projeto. Em seguida, é detalhada a metodologia de desenvolvimento do projeto, descrevendo a integração das transformações no código, a organização geral do programa e os recursos utilizados. Resultados experimentais são discutidos, demonstrando como cada transformação geométrica afeta o cubo tanto no plano (2D) quanto no espaço (3D), com observações sobre a implementação interativa via teclas. Além disso, conceituam-se curvas e superfícies em computação gráfica, relacionando-as com o cubo deste projeto. Por fim, apresentam-se conclusões destacando o aprendizado obtido, a aplicabilidade das transformações geométricas em contextos reais e os desafios enfrentados, bem como referências bibliográficas.

## Abstract:
This academic article discusses the use of basic geometric transformations translation, scaling, and reflection – in Computer Graphics applications using PyOpenGL. A practical project was developed to render a 3D cube with texture mapping and lighting, allowing the user to interactively apply transformations to the model in real-time. Initially, we present the theoretical background of OpenGL, 3D modeling, and geometric transformations. Next, we detail the project’s development methodology, describing how transformations were integrated into the code, the program’s overall organization, and the features used. Experimental results are discussed to demonstrate how each geometric transformation affects the cube both in the plane (2D) and in space (3D). Additionally, we provide concepts of curves and surfaces in computer graphics, relating them to the representation of cube created for this project. Finally, we present conclusions highlighting the lessons learned, the applicability of geometric transformations in real-world contexts, the challenges faced, as well as bibliographic references.
## 1. Introdução
A computação gráfica é uma área da computação voltada à geração e manipulação de imagens sintéticas, encontrando aplicações em jogos, animações, simulações, design e muitas outras áreas. Dentre as diversas ferramentas e APIs disponíveis para desenvolvimento gráfico, o OpenGL (Open Graphics Library) destaca-se como uma das principais interfaces de comunicação entre softwares para geração de gráficos 2D e 3D de forma acelerada por hardware. OpenGL é uma API gráfica multiplataforma que se comunica diretamente com a GPU para renderizar imagens, ou seja, fornece um conjunto padronizado de funções que o programador utiliza e que são implementadas pelos drivers da placa de vídeo. Através do OpenGL, é possível construir cenas tridimensionais complexas definindo vértices, polígonos, materiais, fontes de luz e aplicando transformações geométricas para posicionar e orientar os objetos na cena.

Entre os conceitos fundamentais da computação gráfica 3D estão as transformações geométricas. Essas transformações permitem alterar a posição, orientação e tamanho dos objetos no espaço, constituindo a base para montar cenários gráficos e animar objetos. As três transformações geométricas básicas são a translação, rotação e escala, às quais podemos acrescentar a reflexão, ou espelhamento, como uma transformação adicional frequentemente utilizada. Em termos simples: transladar um objeto significa deslocá-lo do ponto A para o ponto B, rotacionar significa girá-lo em torno de um eixo, escalar significa aumentar ou diminuir seu tamanho  e refletir significa produzir uma imagem espelhada do objeto em relação a algum eixo ou plano.

No presente trabalho, investigamos o uso dessas transformações geométricas no contexto do OpenGL, por meio do desenvolvimento de um programa em Python que desenha um cubo 3D com textura e iluminação ambiente. O programa permite ao usuário aplicar interativamente, em tempo de execução, transformações de translação, escala e espelhamento sobre o cubo, seja deslocando-o pelo espaço, redimensionando-o ou invertendo-o (espelhando) em torno de um de seus eixos. A interação é realizada via teclado, utilizando teclas pré-definidas para acionar cada transformação, o que ajuda o usuário a visualizar a aplicação das transformações de forma simples e intuitiva.

Com isso podemos demonstrar a importância das transformações geométricas na computação gráfica, e como ela reside no fato de que elas viabilizam a montagem de cenas complexas a partir de objetos simples, bem como a animação e movimentação de objetos de forma eficiente. Sem essas operações, todos os modelos permaneceriam estáticos em suas posições originais. Com as transformações, podemos posicionar objetos em diferentes locais de um cenário, ajustar seus tamanhos conforme necessário e criar efeitos de reflexão e simetria. Além disso, transformações são utilizadas não apenas na modelagem de objetos, mas também na movimentação de câmera e na projeção da cena na tela, o que a torna parte essencial na criação da perspectiva do usuário, compondo assim as diversas etapas do pipeline gráfico.

Este projeto está estruturado de forma que iniciamos com uma fundamentação teórica cobrindo os conceitos de OpenGL, modelagem 3D, transformações geométricas, o uso de texturas e iluminação. Em seguida, descrevemos  a integração das transformações em um cubo. Por fim, na última seção trazemos as conclusões, refletindo sobre o aprendizado obtido e a aplicabilidade prática do que foi desenvolvido.

## 2. Fundamentação Teórica
Nesta seção, apresentamos os fundamentos teóricos relevantes para o projeto. Primeiramente, resumimos os conceitos básicos do OpenGL e da modelagem de objetos 3D. Em seguida, revisamos as transformações geométricas (translação, rotação, escala e espelhamento) do ponto de vista conceitual e como são aplicadas no contexto do OpenGL. Por fim, abordamos brevemente os tópicos de textura e iluminação, indispensáveis para a renderização realista do cubo utilizado.
### 2.1 OpenGL e Modelagem 3D 
O OpenGL consiste em uma API de computação gráfica que permite aos desenvolvedores criar gráficos 2D e 3D de maneira eficiente, aproveitando a aceleração de hardware. Trata-se de uma aplicação de código aberta e multiplaforma, amplamente adotada na indústria. Por meio do OpenGL, o programador descreve primitivas geométricas (pontos, linhas, triângulos etc.) e define como elas devem ser transformadas e renderizadas na tela. Internamente, o OpenGL gerencia estados e matrizes de transformação para aplicar operações geométricas nos vértices, além de estágios de processamento para iluminação, projeção e mapeamento de texturas, de acordo com o modelo de pipeline gráfico definido pelo usuário.

Um aspecto importante da programação com OpenGL  é o uso de uma matriz de modelo (Model) e visualização (View) – frequentemente combinadas na chamada matriz ModelView – e de uma matriz de projeção (Projection). Ao desenhar um objeto, normalmente define-se uma sequência de transformações na matriz ModelView para posicionar o objeto no mundo e em relação à câmera, antes de enviar seus vértices para renderização.. Por exemplo, para posicionar um objeto em coordenadas específicas, podemos utilizar a função glTranslatef(x, y, z), que multiplica a matriz corrente por uma matriz de translação, deslocando a origem do sistema de coordenadas local do objeto para o ponto indicado. De forma análoga, glRotatef(ângulo, ax, ay, az) aplica uma rotação em torno do eixo especificado, e glScalef(sx, sy, sz) aplica escala diferencial nos eixos. Essas chamadas afetam a matriz de modelagem/visualização corrente, de modo que todas as primitivas desenhadas em seguida sofrerão essas transformações.

A modelagem 3D em OpenGL é comumente feita especificando-se vértices no espaço 3D e agrupando-os em faces poligonais, geralmente triângulos ou quadriláteros. No caso de um cubo, por exemplo, podemos defini-lo como um conjunto de 8 vértices no espaço, conectados de forma a formar 6 faces quadradas. 
### 2.2 Transformações Geométricas: Conceitos Básicos
As transformações geométricas são operações que alteram alguns aspectos da geometria de objetos, tais como posição, orientação ou tamanho, a partir de regras determinísticas. Formalmente, uma transformação geométrica pode ser vista como uma função que mapeia pontos de um espaço em novos pontos, frequentemente expressa em forma matricial. No contexto de computação gráfica, as transformações básicas podem ser definidas como:

Translação: desloca todos os pontos de um objeto por uma mesma distância em determinada direção. É uma operação que não altera tamanhos nem ângulos do objeto, apenas sua posição.

Rotação: gira o objeto em torno de um ponto ou eixo. A rotação altera a orientação do objeto, mas preserva suas dimensões. 

Escala: aumenta ou diminui o tamanho do objeto, alterando suas dimensões podendo ser de forma uniforme ou não. 

Reflexão (Espelhamento): é a transformação que produz uma imagem espelhada do objeto em relação a um eixo (no plano 2D) ou um plano (no espaço 3D). Essa operação preserva as formas e tamanhos, mas produz um objeto congruente de “mão trocada”.

Em resumo, as transformações geométricas afins (translações, rotações, escalas e reflexões) permitem modificar objetos de diversas maneiras. Translação, rotação e reflexão são isométricas, ou seja, preservam distâncias e ângulos, já a escala, quando não-uniforme, altera distâncias. Todas essas transformações podem ser combinadas por composição de matrizes, a ordem de chamadas glTranslate, glRotate, glScale importa e corresponde à multiplicação de matrizes sucessivas aplicada aos vértices.

Do ponto de vista computacional, as transformações no OpenGL são eficientes porque são realizadas por multiplicações matriciais vetoriais aceleradas em hardware. No pipeline gráfico clássico, vértices em coordenadas de objeto passam por uma etapa de transformação geométrica (ModelView), depois pela transformação de projeção; as coordenadas resultantes são então convertidas para coordenadas de tela (viewport transform). Ao permitir modificar a matriz ModelView, o OpenGL possibilita instanciar e manipular objetos de forma flexível. Em nosso projeto, tiramos proveito dessas facilidades para mover, redimensionar e espelhar o cubo em tempo real, conforme os comandos do usuário.
### 2.3 Mapeamento de Textura
Para criar uma melhor apresentação aos objetos 3D, é comum aplicar texturas  sobre as superfícies dos modelos. O mapeamento de textura consiste em associar coordenadas da imagem a coordenadas dos vértices do polígono, de modo que o rasterizador do OpenGL possa “colar” a imagem sobre a geometria. Em outras palavras, a textura é se insere sobre o objeto seguindo a correspondência definida pelas coordenadas de textura de cada vértice.

No projeto em questão, foi utilizada uma textura de forma simplificada através de uma imagem png aplicada a todas as faces do cubo, de forma que ele aparenta ter padrões ou cores definidos pela imagem em vez de uma cor sólida, cada face do cubo então recebe a textura. Mesmo com a aplicação simplificada, ainda assim, podemos demonstrar como modelos poligonais podem simular materiais diversos apenas trocando-se a textura, um mesmo cubo poderia parecer feito de tijolos, metal ou ser um dado de jogo apenas alterando a variável da imagem aplicada.
### 2.4 Iluminação no OpenGL
Além da textura, a iluminação contribui de forma crucial para a percepção de profundidade e realismo em uma cena 3D. O modelo de iluminação clássico do OpenGL é baseado no modelo local de reflexão de Phong, que considera três componentes principais de luz refletida por um objeto: a componente ambiente, a difusa e a especular. Em termos simples:

Luz ambiente: simula a luz indireta do ambiente, que incide sobre os objetos vindo de todas as direções. 

Luz difusa: representa a porção de luz proveniente de uma fonte direcionada (por exemplo, uma lâmpada ou o sol) que incide sobre a superfície e é refletida de forma espalhada.

Luz especular: simula reflexos de tipo espelho (highlight), ou seja, a parcela de luz que é refletida preferencialmente em uma direção, causando pontos brilhantes quando a posição do observador está alinhada com o ângulo de reflexão ideal. 

No OpenGL, para usar iluminação, define-se uma ou mais fontes de luz com propriedades ambiente, difusa e especular (glLightfv definindo GL_AMBIENT, GL_DIFFUSE, GL_SPECULAR da luz), ativa-se o sistema de iluminação (glEnable(GL_LIGHTING) e habilita-se cada luz específica, e define-se também as propriedades de material do objeto (glMaterial ou usando glColorMaterial para vincular cor a parâmetros de material). As normais dos vértices (ou faces) devem ser especificadas corretamente (glNormal3f) para que o OpenGL possa computar as fórmulas de iluminação para cada vértice. No caso do nosso cubo, cada face é plana, então podemos definir uma normal constante por face (por exemplo, (0,0,1) para a face frontal, (0,0,-1) para a traseira, (0,1,0) para a de cima, etc.). Assim, o OpenGL calculará iluminação por vértice e interpolará no interior do polígono resultando em variações de cor devido à luz.

## 3. Conclusão
O desenvolvimento deste projeto e a elaboração deste artigo proporcionaram uma visão integrada de diversos tópicos fundamentais de computação gráfica: desde os conceitos teóricos de transformações geométricas até a implementação prática em OpenGL, passando por texturização e iluminação. Para um aluno de Ciência da Computação, essa experiência é valiosa por conectar a teoria com a prática de programação gráfica interativa.

Consolidamos o entendimento de transformações afins (translação, rotação, escala) e percebemos sua importância na construção de cenas 3D. Implementando cada transformação, ficou claro como elas se combinam e influenciam mutuamente, por exemplo, a ordem das transformações e a referência do sistema de coordenadas são cruciais (como ao escalonar em torno do próprio objeto versus em torno da origem global). O desafio especial de implementar a transformação de espelhamento evidenciou detalhes menos óbvios: a necessidade de gerenciar orientação de faces e normais (para iluminação correta) e considerações de culling. Isso ampliou a compreensão de que operações geométricas podem ter efeitos colaterais no pipeline gráfico (ex.: inversão de faces).

Também aprendemos na prática sobre texturas  desde carregar uma imagem até mapeá-la corretamente – e a configurar a iluminação básica no OpenGL. Vimos que texturas adicionam realismo sem aumentar a complexidade geométrica, e que a iluminação dá profundidade e destaque, mas requer informações adicionais (normais) e bom ajuste de parâmetros (intensidades, material). A integração de ambos no cubo mostrou como um objeto simples pode ganhar aparência rica.

As transformações geométricas implementadas têm aplicação direta em praticamente todas as aplicações gráficas interativas. Em jogos, por exemplo, movimentar personagens (translações), redimensionar objetos ou efeitos (escala) e usar espelhamento para simular simetria ou reflexos são operações cotidianas. Em sistemas de CAD, transformações geométricas permitem posicionar componentes em montagens e espelhar peças para gerar o lado oposto de um projeto. O domínio dessas operações, portanto, é essencial para qualquer programação gráfica ou de visualização.

O projeto do cubo texturizado e iluminado, em particular, pode ser visto como um microcosmo de um engine gráfico: temos geometria, material (textura), iluminação e controles de transformação dos elementos presentes em aplicações maiores. Assim, o conhecimento adquirido é diretamente transferível para cenários mais complexos.

O projeto atingiu seus objetivo de permitir uma demonstração interativa das transformações geométricas. A possibilidade de o usuário “brincar” com o cubo, movê-lo, escalá-lo e espelhá-lo em tempo real dá um retorno visual imediato ao conceito das transformações. Isso enriquece o aprendizado, pois visualizamos o impacto de cada operação na cena 3D. 

## 4. Referências
Gatto, E. C. “Transformações Geométricas – Computação Gráfica”. SlideShare, 2018. Disponível em:  (Computacao grafica: transformadas geometricas - Parte 1 | PPT)

Microsoft Learn. “Porting Matrix and Transformation Functions (OpenGL)”. Win32 Apps Documentation. Disponível em:  (Porting Matrix and Transformation Functions - Win32 apps | Microsoft Learn). 

GeeksforGeeks. “Basic Transformations in OpenGL”. GeeksforGeeks, 19 Set. 2023. Disponível em:  (Basic Transformations in OPENGL | GeeksforGeeks) (Basic Transformations in OPENGL | GeeksforGeeks). (Conceituação de transformações básicas e fórmulas 2D).

Araujo, Fernando. “Computação Gráfica 3 - Técnicas básicas”. Digital Innovation One, 2021. Disponível em:  (Computação Gráfica 3 - Técnicas básicas | Fernando Araujo | Estrutura de dados | Unity | Inovação | DIO).

RenderFabrik. “O que é mapeamento de texturas - Guia Completo”. RenderFabrik Blog. Disponível em:  (O Que é Mapeamento De Texturas - Guia Completo). 

OpenGL Wiki . “How Lighting Works”. Disponível em:  (How lighting works - OpenGL Wiki) 

Bruno Dorta. “Modelo de reflexão de Phong”. Computação Gráfica (MCTA008-17), 2017. Disponível em:  (9.2 Modelo de reflexão de Phong | MCTA008-17 Computação Gráfica). 

Slides de Aula – Unioeste. “Modelagem de Sólidos, Curvas e Superfícies”. 2018. Disponível em:  (Slides 03 - Modelagem de Solidos Curvas e Superficies). 
